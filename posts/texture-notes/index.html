<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Texture 开发笔记" /><meta name="author" content="dirtmelon" /><meta property="og:locale" content="en_US" /><meta name="description" content="ASImageNode ASImageNode 不支持直接设置 tintColor ，如果需要设置 tintColor需要通过 imageModificationBlock 进行设置： imageNode.imageModificationBlock = ASImageNodeTintColorModificationBlock(UIColor.white) github上的相关讨论： https://github.com/facebookarchive/AsyncDisplayKit/issues/426" /><meta property="og:description" content="ASImageNode ASImageNode 不支持直接设置 tintColor ，如果需要设置 tintColor需要通过 imageModificationBlock 进行设置： imageNode.imageModificationBlock = ASImageNodeTintColorModificationBlock(UIColor.white) github上的相关讨论： https://github.com/facebookarchive/AsyncDisplayKit/issues/426" /><link rel="canonical" href="https://dirtmelon.github.io/posts/texture-notes/" /><meta property="og:url" content="https://dirtmelon.github.io/posts/texture-notes/" /><meta property="og:site_name" content="Dirtmelon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-01-07T23:51:06+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Texture 开发笔记" /><meta name="twitter:site" content="@Dirt_melon" /><meta name="twitter:creator" content="@dirtmelon" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"dirtmelon"},"description":"ASImageNode ASImageNode 不支持直接设置 tintColor ，如果需要设置 tintColor需要通过 imageModificationBlock 进行设置： imageNode.imageModificationBlock = ASImageNodeTintColorModificationBlock(UIColor.white) github上的相关讨论： https://github.com/facebookarchive/AsyncDisplayKit/issues/426","url":"https://dirtmelon.github.io/posts/texture-notes/","headline":"Texture 开发笔记","dateModified":"2018-01-07T23:51:06+08:00","datePublished":"2018-01-07T23:51:06+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dirtmelon.github.io/posts/texture-notes/"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>Texture 开发笔记 | Dirtmelon</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dirtmelon"><meta name="application-name" content="Dirtmelon"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/apple-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dirtmelon</a></div><div class="site-subtitle font-italic">Dirtmelon's blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/dirtmelon" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/Dirt_melon" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['0xffdirtmelon','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Texture 开发笔记</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Texture 开发笔记</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> dirtmelon </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 7, 2018, 11:51 PM +0800" prep="on" > Jan 7, 2018 <i class="unloaded">2018-01-07T23:51:06+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="794 words">4 min</span></div></div><div class="post-content"><h2 id="asimagenode">ASImageNode</h2><p>ASImageNode 不支持直接设置 <code class="language-plaintext highlighter-rouge">tintColor</code> ，如果需要设置 tintColor需要通过 <code class="language-plaintext highlighter-rouge">imageModificationBlock</code> 进行设置：</p><pre><code class="language-Swift">imageNode.imageModificationBlock = ASImageNodeTintColorModificationBlock(UIColor.white)
</code></pre><p>github上的相关讨论： https://github.com/facebookarchive/AsyncDisplayKit/issues/426</p><p>还有就是如果需要改变ASButtonNode 的 imageNode 的 tintColor，是改不了的，需要通过设置不同状态的图片，然后通过改变buttonNode的状态来改变图片。</p><pre><code class="language-Swift">buttonNode.setImage(image, for: .normal)
buttonNode.setImage(image.tinted(with: UIColor.red), for: .selected)
// https://gist.github.com/ImJCabus/3e6c80ca1a5dd23f8f9866c730e1f1c7 tintColor代码
</code></pre><h2 id="aslayoutspec">ASLayoutSpec</h2><p>当 spaceBetween 没有达到两端对齐的效果，尝试设置当前 layoutSpec 的 width（如注释）或它的上一级布局对象的 alignItems，在例子中就是 stackLayout.alignItems = .stretch。 <a href="https://bawn.github.io/2017/12/Texture-Layout/">Texture 布局篇</a></p><h2 id="asdisplaynode的高度计算">ASDisplayNode的高度计算</h2><p>如果在 UIView 或者UITableViewCell中添加ASDisplayNode，而且需要计算ASDisplayNode的高度，在 ASDisplayNode 实现了 <code class="language-plaintext highlighter-rouge">- (ASLayoutSpec *)layoutSpecThatFits:(ASSizeRange)constrainedSize</code> 情况下，可以调用 <code class="language-plaintext highlighter-rouge">- (ASLayout *)layoutThatFits:(ASSizeRange)constrainedSize</code> 方法计算出大小。</p><pre><code class="language-Swift">_ = node.layoutThatFits(ASSizeRangeMake(CGSize.zero,
						  CGSize(width: view.frame.width,								  		 height: CGFloat.greatestFiniteMagnitude)))
print(node.calculatedSize.height)
</code></pre><h2 id="给-asdisplaynode-的-view-添加手势">给 ASDisplayNode 的 View 添加手势</h2><blockquote><p>-didLoad This method is conceptually similar to UIViewController’s -viewDidLoad method; it’s called once and is the point where the backing view has been loaded. It is guaranteed to be called on the main thread and is the appropriate place to do any UIKit things (such as adding gesture recognizers, touching the view / layer, initializing UIKit objects).</p></blockquote><p>需要在didLoad中添加</p><pre><code class="language-Swift">/** @name View Lifecycle */
    
    /**
     * @abstract Called on the main thread immediately after self.view is created.
     *
     * @discussion This is the best time to add gesture recognizers to the view.
     */
open func didLoad()

</code></pre><h2 id="asdisplaynode-使用-initwithviewblock-方法进行初始化">ASDisplayNode 使用 initWithViewBlock 方法进行初始化</h2><p>需要注意 <code class="language-plaintext highlighter-rouge">retain cycle</code> 的问题，持有 self 变量要设置为 <code class="language-plaintext highlighter-rouge">weak</code>。另外ASDisplayNode 并不知道自己持有的View的大小，需要对 <code class="language-plaintext highlighter-rouge">style.preferredSize</code> 进行设置。</p><h2 id="astextnode2-attachment的问题">ASTextNode2 attachment的问题</h2><p>ASTextNode2 目前尚未支持通过添加 NSTextAttachment 的方式在 NSAttributedString 后面添加图片，如果需要实现上面的需求要使用ASTextNode。</p><h2 id="ascellnode里面再嵌套uitableviewcell">ASCellNode里面再嵌套UITableViewCell</h2><p>为了复用一些布局，比如个人界面的设置Cell，采用了在ASCellNode使用viewBlock方法来复用Cell。</p><pre><code class="language-Swift">let cellNode = ASCellNode(viewBlock: { () -&gt; UIView in
						let cell = UITableViewCell(style: .default, reuseIdentifier: nil)
	//					cell.isUserInteractionEnabled = false
						return cell
					})
</code></pre><p>显示出来的布局是正常的，在iOS 11上点击也可以跳转，但是今天在iOS 10上测试的时候发现无法响应点击事件，如果是用UIView生成也可以响应点击事件，怀疑是UITableViewCell拦截了点击事件，但是为什么在iOS 11上可以，iOS 10上就不可以？不知道。加上 ：</p><pre><code class="language-Swift">cell.isUserInteractionEnabled = false
</code></pre><p>在iOS 10也可以响应点击事件了。</p><h2 id="aseditabletextnode">ASEditableTextNode</h2><p>ASEditableTextNode 默认高度只能适应英文字母，如果输入中文会发现被裁了一截，所以在初始化时需要指定一下 ASEditableTextNode 的高度</p><pre><code class="language-Swift">let editableTextNode = ASEditableTextNode()
editableTextNode.style.height = ASDimensionMake(44)
</code></pre><h2 id="astablenode-和-ascollectionnode">ASTableNode 和 ASCollectionNode</h2><h3 id="astablenodeascollectionnode调用reloaddata时闪烁的问题">ASTableNode，ASCollectionNode调用reloadData时闪烁的问题。</h3><p>在ASTableNode和ASCollectionNode需要刷新时不推荐直接使用 <code class="language-plaintext highlighter-rouge">reloadData</code> ，直接调用 <code class="language-plaintext highlighter-rouge">reloadData</code> 时会发现整个node都会闪一下。 一个比较好的解决方法是每次刷新算出需要添加，删除或者刷新的 <code class="language-plaintext highlighter-rouge">indexPath</code> 或者 <code class="language-plaintext highlighter-rouge">section</code>，再对这部分调用对应的局部刷新方法。</p><pre><code class="language-Objective-C">// indexPaths
- (void)insertRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation;
- (void)deleteRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation;
- (void)reloadRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation;

// sections
- (void)insertSections:(NSIndexSet *)sections withRowAnimation:(UITableViewRowAnimation)animation;
- (void)deleteSections:(NSIndexSet *)sections withRowAnimation:(UITableViewRowAnimation)animation;
- (void)reloadSections:(NSIndexSet *)sections withRowAnimation:(UITableViewRowAnimation)animation;
</code></pre></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/code/'>Code</a>, <a href='/categories/ios/'>iOS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >iOS</a> <a href="/tags/texture/" class="post-tag no-text-decoration" >Texture</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Texture 开发笔记 - Dirtmelon&url=https://dirtmelon.github.io/posts/texture-notes/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Texture 开发笔记 - Dirtmelon&u=https://dirtmelon.github.io/posts/texture-notes/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Texture 开发笔记 - Dirtmelon&url=https://dirtmelon.github.io/posts/texture-notes/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/iglistkit-first/">IGListKit - 开篇</a><li><a href="/posts/iglistkit-second/">IGListKit 的基石 - IGListSectionController</a><li><a href="/posts/iglistkit-third/">IGListKit 的管理者 - IGListAdapter</a><li><a href="/posts/cocoapods-sync-githooks/">一种使用 CocoaPods 同步 Git hooks 的方案</a><li><a href="/posts/cocoapods-first/">CocoaPods 学习记录 - 官方文档</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">阅读笔记</a> <a class="post-tag" href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">源码解析</a> <a class="post-tag" href="/tags/swift/">Swift</a> <a class="post-tag" href="/tags/%E7%BF%BB%E8%AF%91/">翻译</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/texture/">Texture</a> <a class="post-tag" href="/tags/cocoapods/">CocoaPods</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/texture-basic-concepts/"><div class="card-body"> <span class="timeago small" > Feb 19, 2019 <i class="unloaded">2019-02-19T11:44:10+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Texture-基本概念</h3><div class="text-muted small"><p> 原文：Core Concepts Texture 基本单位为 node ， ASDisplayNode 是建立在 UIView 上的抽象层，如同 UIView 与 CALayer 的关系。ASDiplayNode 是线程安全的，你可以在后台线程进行初始化和配置。 Nodes Node 的用法跟 UIView 类似，且 Node 提供了 UIView 和 CALayer 属性。 Tex...</p></div></div></a></div><div class="card"> <a href="/posts/texture-layout/"><div class="card-body"> <span class="timeago small" > Mar 3, 2019 <i class="unloaded">2019-03-03T00:28:40+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Texture-Layout</h3><div class="text-muted small"><p> 原文链接：Layout 原因和收益 Auto Layout 在处理复杂的 View 时，消耗会指数级上升， Texture 布局在以下几方面比 Auto Layout 好： 快，明显比 Auto Layout 快，基本上跟手动布局差不多 异步和并发，布局可以在后台线程进行计算，所以不会打断用户交互 声明式布局，不可变的数据结构，这使得布局代码易于开发，编写文档，code re...</p></div></div></a></div><div class="card"> <a href="/posts/how-to-manage-image-resources/"><div class="card-body"> <span class="timeago small" > Dec 8, 2016 <i class="unloaded">2016-12-08T15:28:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>图片资源的管理方式</h3><div class="text-muted small"><p> 在开发app的过程中少不了要加载app内的图片资源，最简单的写法就是 let image = UIImage(named: "image")! 我们并不希望在加载app内图片过程中出错，所以都会进行强制解析。但是这样写多了会很乱，有可能会拼错，图片资源删除了也要一个个去修改，也不会在编译时就报错。有可能上线了才发现缺失图片资源。 静态属性方式 Yep中采取扩展的方法来处理。 extens...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/photokit-with-iCloud/" class="btn btn-outline-primary" prompt="Older"><p>PhotoKit 与 iCloud 图片</p></a> <a href="/posts/2017/" class="btn btn-outline-primary" prompt="Newer"><p>2017</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//dirtmelon-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Texture 开发笔记'; this.page.url = 'https://dirtmelon.github.io/posts/texture-notes/'; this.page.identifier = '/posts/texture-notes/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/Dirt_melon">dirtmelon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">阅读笔记</a> <a class="post-tag" href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">源码解析</a> <a class="post-tag" href="/tags/swift/">Swift</a> <a class="post-tag" href="/tags/%E7%BF%BB%E8%AF%91/">翻译</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/texture/">Texture</a> <a class="post-tag" href="/tags/cocoapods/">CocoaPods</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://dirtmelon.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GZ7JRH6MFN"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GZ7JRH6MFN'); }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script>
